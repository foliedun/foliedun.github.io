---
layout: post
title: Digital modulation and encoding in RFID
date: 2024-07-06 10:00:00 +0000
description: A post about digital modulation and encoding in the RFID ecosystem
img: rfid_part4/cover.png
fig-caption: Source - https://resources.system-analysis.cadence.com/blog/msa2021-types-of-digital-modulation    # Add figcaption (optional)
tags: [RFID]
---

# 5. Digital modulation

As seen before, RFID uses electromagnetic waves as a means of communication in the physical world. This way, for the exchange of information to occur, it's necessary that the data in digital format (zeros and ones) be transformed into analog format (electromagnetic waves), in other words, we need a way to "insert" those bits into the electromagnetic waves, so they can be emitted and received by tag and reader antennas. This process is known as **digital modulation**, or simply **modulation**. 

The electromagnetic wave used is called **carrier wave**, while the reverse process of extracting the original information from this wave is known as **demodulation**.

There are three basic modulation techniques, all of them manipulating one of the three basic characteristics of waves: amplitude, frequency or phase. All other modulation techniques are derived from these three basic methods. 

## 5.1. Amplitude Shift Keying (ASK)

Amplitude Shift Keying (ASK) happens when the amplitude of the carrier wave oscillates between two distinct values, where a higher amplitude value represents the bit 1 while a lower amplitude value represents the bit 0. The image below might make things a little clearer:

![Amplitude Shift Keying]({{site.baseurl}}/assets/img/rfid_part4/ask2.png)
*Amplitude Shift Keying - Source: https://www.slideshare.net/slideshow/digital-modulation-techniques-57572540/57572540*

Due to its simplicity, this modulation technique can be implemented in any RFID system, provides the fastest data transfer rate but the worst resistance to interference.

## 5.2. Frequency Shift Keying (FSK)

Frequency Shift Keying (FSK) happens when the frequency of the carrier wave oscillates between two distinct values, where a higher frequency value represents the bit 1 while a lower frequency value represents the bit 0. Again the image below might make things a little clearer: 

![Frequency Shift Keying]({{site.baseurl}}/assets/img/rfid_part4/fsk2.png)
*Frequency Shift Keying - Source: https://www.slideshare.net/slideshow/digital-modulation-techniques-57572540/57572540*

This modulation technique have the slowest data transfer rate but the best resistance to interference.

## 5.3. Phase Shift Keying (PSK)

Phase Shift Keying (PSK) happens by changing the phase of the carrier wave, and this is possible by varying the sine and cosine inputs at a particular time. Due to this permissibility, PSK has some sub-variations, but we will only talk about the "Binary Phase Shift Keying" (BPSK or 2PSK).

In the BSPK, whenever a transition of the digital signal values ​​occurs, there will be a 180 degree change in the phase of the carrier wave, that is, whenever there is a transition from bit 0 to bit 1, or vice versa, the carrier phase will be switched 180 degrees. The image below might make things a little clearer:

![Frequency Shift Keying]({{site.baseurl}}/assets/img/rfid_part4/psk2.png)
*Frequency Shift Keying - Source: https://www.slideshare.net/slideshow/digital-modulation-techniques-57572540/57572540*

As only the phase of the carrier wave is modulated, it's possible to transfer more information in the same period of time, resulting in a data tranfer rate higher if compared to FSK but still lower than ASK. Its resistance to interference is moderate and is relatively simple to be implemented.

### Summary

The following image shows what each wave looks like after each modulation technique:

![ASK vs FSK vs PSK]({{site.baseurl}}/assets/img/rfid_part4/three_modulations.png)
*ASK vs FSK vs PSK - Source: https://www.slideshare.net/slideshow/digital-modulation-techniques-57572540/57572540*


# 6. Digital encoding

Digital encoding is the process of changing the bitstream (a sequence of 0s and 1s) of data to a format so they can travel safely along the path between communication components. Not every data encoding can be implemented in every system, characteristics like: number of bits to be encoded, minimum required transfer rate, redundancy required for error recovery and others, influence in the type of encoding that can be implemented.

Digital encoding is a huge topic by its own, so we will only talk superficially about the three most popular methods used in RFID systems: Non-Return to Zero level (NRZ-L), Differential Manchester (Differential Biphase) and Manchester (Biphase-L); and one used in NFC: Modified Miller

## 6.1. Non-Return to Zero level (NRZ-L)

Despite the name, this encoding method does not do any encoding at all, it simply synchronizes the bitstream with the transmission clock to stream, which means that a bit 1 is send as a "strong" signal while a bit 0 is send as a "weak" signal. As you can imagine, this encoding method have problems when a very long sequence of 0s or 1s need to be send. This kind of encoding is used almost exclusively with modulations FSK and PSK.

![Non-Return to Zero]({{site.baseurl}}/assets/img/rfid_part4/nrz.png)
*Non-Return to Zero - Source: https://electronics.stackexchange.com/questions/613496/digital-data-to-digital-signals-with-non-return-to-zeronrz*

## 6.2. Manchester (Biphase-L)

In the Manchester encoding, also known as Biphase-L, there is a transition in the signal "power" in every middle of each bit period and, depending of the next information to be transmitted, it may also have a transition at the start of the bit period. The direction of the mid-bit transition indicates the data it wants to tranfer, while the start-bit transition does not have a meaning by its own.

Bit 0 is represented by a **high-to–low** signal sequence, while bit 1 is represented by a **low-to–high** signal sequence. The image below might make things a little clearer:

![Manchester]({{site.baseurl}}/assets/img/rfid_part4/manchester.png)
*Manchester - Source: https://en.wikipedia.org/wiki/Manchester_code*

All these transitions are governed by a clock, which is used by the receiver to decode the information, and the clock signal is embedded into the transmitted data, so a separated signal is not needed, which makes simpler and lower-cost to implement. 

## 6.3. Differential Manchester (Differential Biphase)

The differential manchester encoding, also known as differential biphase, is an "evolution" of the manchester encoding. Here, there is also a transition in the signal "power" in every middle of each bit period, however, this transition does not have a meaning by its own and server only to ease clock recovery, while the transition (or lack of it) at the start of the bit period indicates the data it wants to tranfer.

Bit 0 is represented by a stability in the signal power, while bit 1 is represented by a change in the signal power. The other way around is also possible. The image below might make things a little clearer:

![Differential Manchester]({{site.baseurl}}/assets/img/rfid_part4/diff_manchester.jpg)
*Differential Manchester - Source: https://commons.wikimedia.org/wiki/File:Differential_Manchester_encoding_alternatives.png*

### Summary

The following image shows what each wave looks like after each encoding technique:

![NRZ vs Differential Manchester vs Manchester]({{site.baseurl}}/assets/img/rfid_part4/digital_encodings.png)
*NRZ vs Differential Manchester vs Manchester - https://en.wikipedia.org/wiki/File:Digital_signal_encoding_formats-en.svg*

## 6.4. Modified Miller


